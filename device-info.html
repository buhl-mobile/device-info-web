<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Handydaten Empfang</title>
</head>
<body>
    <h1>QR Code scannen, um Handydaten zu senden</h1>
    <p>Scanne den QR-Code, um deine Handydaten zu senden:</p>

    <!-- QR-Code mit URL für die API -->
    <img src="https://api.qrserver.com/v1/create-qr-code/?data=https://device-info-web.onrender.com/device-info&size=200x200" alt="QR Code">
    
    <!-- Platz, um die Handydaten nach Empfang anzuzeigen -->
    <div id="deviceData"></div>

    <script>
        // Hier kannst du die Handydaten abfragen, wenn der Kunde die Seite betritt
        window.onload = function () {
            // Eine Funktion, um Handydaten vom Gerät zu bekommen (z. B. mit JavaScript)
            const deviceInfo = {
                os: navigator.platform, // Betriebssystem des Geräts
                model: navigator.userAgent, // Modell könnte durch User-Agent ermittelt werden
                storage: '128GB', // Hier müsstest du eine Möglichkeit finden, den tatsächlichen Speicher des Geräts zu ermitteln
                battery: '85%' // Beispielwert, um Batterieinformationen zu übermitteln
            };

            // Sende die Handydaten via POST-Request an das Backend
            fetch('https://deine-domain/device-info', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(deviceInfo)
            })
            .then(response => response.json())
            .then(data => {
                // Anzeige der gesendeten Daten
                document.getElementById('deviceData').innerHTML = `Daten empfangen: ${JSON.stringify(data)}`;
            })
            .catch(error => {
                console.error('Fehler beim Senden der Daten:', error);
            });
        };
    </script>
</body>
</html>
